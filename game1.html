<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ыбырай Алтынсарин шығармалары</title>
    <style>
        :root {
            --book-cover: #333;
            --ink: #2c3e50;
            --page-bg: #fffaf0; 
            --accent-color: #d35400;
        }

        body { 
            background: #121212; 
            display: flex; justify-content: center; align-items: center; 
            min-height: 100vh; margin: 0; font-family: 'Georgia', serif;
        }

        .book {
            width: 95%; max-width: 950px; height: 90vh;
            background: var(--page-bg);
            border-left: 25px solid var(--book-cover);
            border-radius: 5px 20px 20px 5px;
            box-shadow: 0 0 50px rgba(0,0,0,0.8);
            padding: 40px; position: relative;
            transition: all 0.5s ease;
            box-sizing: border-box;
            display: flex; flex-direction: column;
        }

        .screen { display: none; text-align: center; animation: pageFade 0.4s ease; flex-grow: 1; overflow-y: auto; padding-right: 15px; }
        .screen.active { display: block; }

        .screen::-webkit-scrollbar { width: 8px; }
        .screen::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; margin-top: 20px; }
        
        .chapter-card { 
            cursor: pointer; background: white; padding: 10px; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.1); transition: 0.3s; 
            border-radius: 4px; position: relative;
        }
        .chapter-card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.2); }

        .orange-frame { border: 5px solid #e67e22; }
        .blue-frame { border: 5px solid #3498db; }

        .subsection-label {
            color: white; font-size: 10px; font-weight: bold; padding: 2px 8px;
            position: absolute; top: 15px; right: 15px; border-radius: 2px;
            text-transform: uppercase; letter-spacing: 1px; z-index: 2;
        }
        .orange-label { background: #e67e22; }
        .blue-label { background: #3498db; }

        .img-thumb { width: 100%; height: 130px; background-size: cover; background-position: center; background-color: #ddd; }

        .quiz-img-large {
            width: 100%; max-width: 480px; height: 300px; 
            margin: 0 auto 20px; border: 10px solid white;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
            background-size: contain; background-repeat: no-repeat; background-position: center;
            background-color: #eee; cursor: zoom-in;
        }

        .quiz-btns { display: flex; flex-direction: column; gap: 12px; align-items: center; margin-top: 15px; }
        .answer-btn { 
            width: 90%; padding: 16px; cursor: pointer; border: 2px solid var(--ink); 
            background: white; font-weight: bold; font-family: inherit; font-size: 1rem;
            transition: 0.2s; border-radius: 8px;
        }
        .answer-btn:hover { background: var(--ink); color: white; }

        .reading-container { text-align: left; margin-top: 15px; }
        .reading-img-side {
            width: 280px; height: 200px;
            float: right; margin-left: 20px; margin-bottom: 15px;
            border: 6px solid white; box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            background-size: cover; background-position: center;
        }

        .reading-text { color: #2c3e50; line-height: 1.8; font-size: 1.1rem; white-space: pre-line; text-align: justify; }
        .reading-text::first-letter { 
            font-size: 3.5rem; float: left; margin-right: 10px; 
            line-height: 1; color: var(--accent-color); font-weight: bold; 
        }

        .theme-orange { --page-bg: #fff4e6; --book-cover: #d35400; --accent-color: #d35400; }
        .theme-blue { --page-bg: #e6f3ff; --book-cover: #2980b9; --accent-color: #2980b9; }

        .nav-link { margin-top: 30px; display: inline-block; cursor: pointer; text-decoration: underline; color: #666; padding-bottom: 30px;}

        @keyframes pageFade { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="book" id="main-book">
        
        <div id="menu-screen" class="screen active">
            <h1>Ыбырай Алтынсаринның шығармалары</h1>
            <div class="grid" id="button-grid"></div>
        </div>

        <div id="quiz-screen" class="screen">
            <h2>Ыбырай Алтынсаринның шығармалары</h2>
            <div id="main-quiz-img" class="quiz-img-large" onclick="showReading()"></div>
            <p style="font-style: italic; font-weight: bold;">Шығарманың негізгі түйінін (нақыл сөзді) табыңыз:</p>
            <div class="quiz-btns" id="quiz-options"></div>
            <div id="feedback" style="margin-top: 15px; font-weight: bold; height: 30px; font-size: 1.2rem;"></div>
            <span class="nav-link" onclick="showMenu()">← Басты мәзір</span>
        </div>

        <div id="reading-screen" class="screen">
            <h2>Ыбырай Алтынсаринның шығармалары</h2>
            <hr>
            <h3 id="reading-chapter-title" style="color: var(--accent-color); margin-bottom: 5px;"></h3>
            <p id="reading-subtitle" style="font-weight: bold; font-size: 0.9rem; margin-bottom: 20px; opacity: 0.8;"></p>
            <div class="reading-container">
                <div id="reading-img-thumb" class="reading-img-side"></div>
                <div class="reading-text" id="reading-body"></div>
            </div>
            <div style="clear: both;"></div>
            <span class="nav-link" onclick="showQuiz()">← Сұраққа қайту</span>
        </div>

    </div>

    <script>
        const chapterData = [
            { 
                title: "Әке мен бала", 
                sub: "Еңбек", 
                story: `Бір адам он жасар баласын ертіп, егіннен жаяу келе жатса, жолда қалған аттың бір ескі тағасын көріп, баласына айтты:
— Анау тағаны, балам, ала жүр, — деп.
Бала әкесіне:
— Сынып қалған ескі тағаны алып неғылайын, — деді.
Әкесі үндемеді, тағаны өзі иіліп алды да, жүре берді.
Қаланың шетінде темірші ұсталар бар екен, соған жеткен соң, әкесі қайырылып, манағы тағаны соларға үш тиынға сатты.
Одан біраз жер өткен соң, шие сатып отырғандардан ол үш тиынға бірталай шие сатып алды.
Сонымен, шиені орамалына түйіп, шетінен өзі бірем - бірем алып жеп, баласына қарамай, аяңдап жүре берді.
Біраз жер өткен соң, әкесінің қолынан бір шие жерге түседі.
Артында келе жатқан бала да тым - ақ қызығып келеді екен, жерге түскен шиені жалма-жан жерден алып, аузына салды.
Бітегенеден соң және бір шие, онан біраз өткен соң және бір шие, сонымен әр жерде бір әкесінің қолынан түскен шиені он шақты рет иіліп, жерден алып жеді.
Ең соңында әкесі тоқтап тұрып айтты:
— Көрдің бе, мана тағаны жамансынып жерден бір ғана иіліп көтеріп алуға еріндің, енді сол тағаға алған шиенің жерге түскенін аламын деп бір еңкеюдің орнына он еңкейдің.
Мұнан былай есінде болсын: аз жұмысты қиынсынсаң — көп жұмысқа тап боласың, азға қанағат ете білмесең — көптен де құр боласың, — деді.`, 
                correct: "Аз жұмысты қиынсынсаң — көп жұмысқа тап боласың", 
                wrong: "Ескі тағаны алудың ешқандай қажеті жоқ еді." 
            },
            { 
                title: "Атымтай Жомарт", 
                sub: "Еңбек", 
                story: `Атымтай жомарт өзi есепсiз бай бола тұрып, күн сайын бiр мезгiл үстiне ескi-құсқы киiм киiп, отын кесiп, шөп тасып жұмыс қылады екен.
Бiр күнi өзiнiң жақын, таныстары сұрады дейдi:
– Жомарт, құдай бергей дәулетiңiз бар, ашқа – тамақ, жалаңашқа – киiм, үйсiздерге – үй болдыңыз, сөйтiп тұрып өз басыңызды кемшiлiкке салып, жете алмаған жарлыша отын кесiп, шөп тасығаныңыздың мағынасы не? – деп.
Жомарт айтты дейдi:
– Төрт түрлi себеп бар.
Әуелгiсi: әдемi ат, асыл киiм, асқан дәулеттi өне бойы әдет етсең, көңiлге жел кiргiзедi; сол желiккен көңiлмен өзiмнен терезесi төмен бейшаралардан жиренiп, көз салмай, кем-кетiкке жәрдем берудi ұмытармын деп қорқамын.
Екiншiсi: бар бола тұрып мен жұмыс қылсам, мұның кемшiлiк емес екенiн бiлiп, кейiнгiлер әбiрет алсын деймiн.
Үшiншiсi: күн сайын өз бейнетiммен тапқан бiр-екi пұлға нан сатып алып жесем де бойыма сол тамақ болып тарайды, еңбекпен табылған дәмнiң тәттiлiгi, сiңiмдiлiгi болады екен.
Төртiншiсi: құдайтағаламның берген дәулетiн өзiмсiнiп, тиiстi орындарына жаратпай, көбiсiн өзiм iшiп-жеп, өзiм тұтынсам, мал берген иесiне күнәлi болармын деп қорқамын, – дедi.`, 
                correct: "Еңбекпен табылған дәмнiң тәттiлiгi, сiңiмдiлiгi болады екен", 
                wrong: "Бай адамның жұмыс істеуі — оның кемшілігі." 
            },
            { 
                title: "Бай баласы мен жарлы баласы", 
                sub: "Еңбек", 
                story: `Асан деген бай баласы, Үсен жарлы баласы,- екеуі кұрдас екен.
Бір күні ел көшкенде қыр астында ойнап жүріп, ескерілмей, екеуі жұртта қалыпты.
Бір мезгілде үйге баралық деп келсе, ауыл жоқ, құр жұрты жатыр. Асан айқай салып, жылай бастады.
Үсен ойланып тұрды да айтты:— Жылағанмен ешнәрсе өнбес. Көшкен ауылды іздеп табалық.
— Елді қайдан табамыз, қай жаққа кеткенін де көргеніміз жок, — деді Асан.
Үсен үндемеді, Асанды ертіп көшкен жұртқа келді. Жұртта бір көзі сынған ине жатыр екен оны алды және бір пышақтың сынығын, бір-екі уыстай қыл тауып, оны да алды.
Сонан сон ауылдың жұртын айнала жүгіріп жүріп, көштің кеткен сүрлеуін тауып, сол сүрлеуге түсіп жүре берді.`, 
                correct: "Жылағанмен ешнәрсе өнбес", 
                wrong: "Байдың баласы болу — барлық қиындықты шешеді." 
            },
            { 
                title: "Қыпшақ Сейітқұл", 
                sub: "Еңбек", 
                story: `Қыпшақ Сейітқұл отыз үйлі тобрымен, жұрттың тегіс аттаныс барымтасы бар уақытта, бұл отыз үй кедейді қалайынша етсем байытып, халық қатарына қосамын деп ойға қалды. Сауда етуге мал жоқ, барымтамен мал алсам, бір күндерде жау да бізден қуып алады, ақырында бұрынғылардың айтып кетуінше, жортуыл басы жолда қалса керек. Соның бәрін де шамалап қарап, ақыр бір қыялға түсіп, Сейітқұл әуелі мекен еткендей бір орын іздеді. Көп жерлерді кезіп жүріп, ақырында Торғай төресіндегі Қабырға деген өзен-судың бойына тоқтады. Мына жақта Үргеніш, Қоқаннан, мына жақта қалмақтан шетірек және жаманшылық болса, қалың Қыпшақ деген руға жақынырақ екен деп, сол жерді ұнатып қайтқан соң, қысты өткізіп, жаздың жылы уақытында кедейлерді жалаңаш-жалпы көшіріп, Қабырға бойына алып келді. Сейітқұлдың бір ағасы бар еді, жол жүріп, ұрлық, барымтаны әдет еткен; інісінің қанша айтқан ақылына болмай, үш-төрт үймен жалғыз-ақ сол көшпей, ескі орны Түркістан жағында қалды. 

Қабырғаның бойына келген соң, Сейітқұл қолына кетпен алып, отыз үйлі кедейіне де кетпен беріп, жер тегістеп, егін егуге кірісті. Түркістан жағында көрген үлгісімен судан арық қазып шығарып, егінге су жіберді. Егіні піскен соң орып, жыйып алып, артығын төңірегіндегі көшпелі елге сатып, мал етті. Жаңа мекен еткен жеріне орныққан соң, Сейітқұл егінді жылдан-жылға күшейтіп, арық басына шығыр салып, суды шығырмен айдап, астықтың (ол күнде бидай, тары, арпа егеді) артығын төңіректегі елге малға айырбас етумен, бұлардың малдары көбейіп, бай болды. Мұны көріп әрбір көшпелі елдегі жарлы-жақыбайлар да келіп, Сейітқұлға қосылып келіп, бес-алты жылда Сейітқұл елі деген төрт жүз үйге таянды дейді.

Сейітқұлдың өзі де, жыйылған халқы да адалдары көбейіп, бай болды, ел жыйылып Сейітқұл жұрт ағасы болды, енді сол жұртының адал бейнет, табан ет, мандай терімен тапқан дәулетін аңдыған жаудан, ұрыдан, даладағы бөріден сақтаудың қамын ойлап, уайымға қалды. Солардан сақтану үшін, Сейітқұл жұртын жыйып кеңесіп, судың бір қолайлы жеріне шымнан биік қорған салдырды, малдарына реттеп бақташы, қару-жарақты қарауыл шыңдауыл жүргізді. Бұлардың былайша бір ауызға қарап бекінген халық екенін байқаған соң, малға қызыққан сырттағы көшпелі халықтар батып келе алмады. Бұл жағынан көңілі тыныш болған соң, Сейітқұл енді Бұхара, Қоқанға мал айдатып, ол кенттерден қазақ қолды әртүрлі товар алдырып, жылда егін піскен уакытта манағы қорғанда жәрмеңке реуішті базар болды. Көшпелі халық белгілі уақытта малын, жүн-жабағысын, тері-терсегін келтіріп, егіншілер оларға астығын, товарын айырбас етіп, осы қалыпша бір жағы егін, бір жағы саудамен Сейітқұлдың жұрты жұрттан асқан бай болыпты.

Манағы Сейітқұлдың ағасы аттаныс-түсіспен жұрттың малын ұрлап бай боламын деп жүргенде, Қонырат жағында қолға түсіп, кім екені де белгісіз, біреу өлтіріп кетіпті; қалған мал-жанын ұрының малы деп Түркістан әкімдері талап алып, жамағаттарын Сейтқұл көп жылдар іздетіп, таптырып, қасына алыпты-мыс.

Сейітқұл, құрметті Тілеу Сейдалин сұлтанның айтуы бойынша, 1830-шы жылдарда өтіпті-міс. Сол данышпан кісінің ақылымен егінді әдет еткен халық Қабырға суының бойында әлі көп. Жарлы болып, бөтен кәсібі жоқ кісілер Торғай жағында дереу егінге айналады, ерінбей азаптанса, бірнеше жылда түзеліп, халық қатарына қосады.`, 
                correct: "Ерінбей азаптанса, бірнеше жылда түзеліп, халық қатарына қосады", 
                wrong: "Барымтамен мал табу — байлыққа жетудің жалғыз жолы." 
            },
            { 
                title: "Бір уыс мақта", 
                sub: "Еңбек", 
                story: `Бір кішкентай қыз әкесінің шапанын жамап отыр екен, шешесі қасына отырып, ақыл айтты:
- Балам, дүниедегі жаратылған жәндік-жансыздардың ешқайсысының да керексіз болып, жерде қалатыны болмайды,- деп.
Сол сөзді айтып отырғанда, қыз бала киімін жамап болып, жердегі мақтаның қиқымын терезеден лақтырып, далаға тастады:
- Әже, осы қиқымның ешнәрсеге керегі бола қалмас,- деп.
Шешесі:
- Балам, сол да жерде қалмайды,- деді.
Осылайша сөйлесіп, терезеден қарап отырса, манағы мақтаны жел көтеріп ұшырды, мұны бір торғай көріп қуып барып, мақтаны тұмсығына тістеп қана алып, ұшып кетті.
Әжесі айтты: - Көрдің бе, балам, күн айналмай манағы айтқан сөздің келгенін. Ол кішкентай мақтаны торғай ұясына төсеп, жас балапандарына мамық етеді,- деді.`, 
                correct: "Дүниедегі жаратылған ешнәрсе керексіз болып жерде қалмайды", 
                wrong: "Кішкене мақта қиқымдарын лақтырып тастаған дұрыс." 
            },
            { 
                title: "Өрмекші, қарлығаш, құмырсқа", 
                sub: "Еңбек", 
                story: `Атасы он жасар ұл баласымен далада келе жатып, баласынан сұрады:
— Анау өрмекшіні көремісің, не істеп жүр?
— Көремін, өрмек тоқып жүр.
— Анау құмырсқаны көремісің?
— Көремін, аузында бір нанның уалшығы бар, жүгіріп кетіп барады.
— Жоғары қара, аспанда не көрінеді?
— Жоғарыда қарлығаш ұшып жүр, аузында кесе тістеген шөбі бар.
Сонда атасы айтты: — Олай болса, шырағым, ол кішкентай жәндіктер саған әбірет. ... Жұмыссыз жүрген бір жан жоқ.
Сені де Құдай-Тағала бос жүруге жаратпаған, жұмыс істеуге әдеттену керек, — деді.`, 
                correct: "Сені де Құдай-Тағала бос жүруге жаратпаған", 
                wrong: "Тек адамдар ғана жұмыс істеуі керек." 
            },
            { 
                title: "Әдеп", 
                sub: "Тәрбие", 
                story: `Бір жұрттың бас әкімі екінші бір байға жолығысып сөйлесіп тұрғанда, қасынан бір жарлы мұжық өтіп бара жатып иіліп, басұрып сәлем берді дейді.
Оған қарсы әлгі үлкен әкім төре онан да төменірек басұрып сәлем алды. Қасындағы бай:
- Тақсыр, осынша жұрттың үстінен қараған әкімсіз, осы бір мұжыққа неге сонша басұрасыз? - деп айтты дейді.
Сонда әкім:
- Ешбір ілім-білім үйренбеген мұжық сонша иіліп, әдептілігін көрсеткенде, мен онан әдепсіз болып қалайын ба? - деді дейді.`, 
                correct: "Әдептілігін көрсеткенде, мен онан әдепсіз болып қалайын ба?", 
                wrong: "Төменгі шенді адамдарға сәлем берудің қажеті жоқ." 
            },
            { 
                title: "Аурудан аяған күштірек", 
                sub: "Тәрбие", 
                story: `Сейіт орам үстінде жүгіріп бара жатқанда, бір арбалы келіп, аңдаусыз соғып кетіп, аяғын сындырыпты.
Ойбайлап жылап жатқан баланы көріп шошынғаннан шешесі есінен танып қалыпты.
Мұны көрген соң, Сейіт жыламақ түгіл, сынған аяғын орнына салып, таңып жатқанда да дыбысын шығармай, қабағын да шытпай жатты.
Сонда сынықшы кісі: — Аяғың ауырмай ма, қабағыңды да шытпайсың? — деп сұрады.
Сейіт, шешесі шығып кеткен соң демін алып, сынықшыға сыбырлап айтты дейді:
— Ауырмақ түгіл, жаным көзіме көрініп тұр, бірақ менің жанымның қиналғанын көрсе, әжем де қиналып, жүдемесін деп, шыдап жатырмын, — деді.`, 
                correct: "Жанымның қиналғанын көрсе, әжем де қиналып, жүдемесін", 
                wrong: "Баланың аяғы ауырмағандықтан ол жылаған жоқ." 
            },
            { 
                title: "Талаптың пайдасы", 
                sub: "Тәрбие", 
                story: `Петр Великий бір күні шіркеуде тұрғанда көп адамның артқы жағында үңіліп патшаға қарап, бөркімен қалқалап қана бір нәрсені сызып тұрған балаға көзі түседі.
Патша тұп-тура манағы балаға барады. Патша сұрады: — Неғылып тұрсың?
— Сенің жүзіңді жазып алайын деп едім. Даңқың, дабылың жер жүзіне жайылған патшам, сенің суретіңді сызып алып, өміріме шейін бойымда сақтайын деп едім.
Патша баланың талапты, зерек екенін аңғарып, оқуға бергізіп, ақырында сол бала бүкіл орыс жұртына даңқы шыққан Матвеев деген суретші болған.`, 
                correct: "Патша баланың талапты, зерек екенін аңғарып, оқуға бергізді", 
                wrong: "Бала патшадан тек ақша сұрап тұрды." 
            },
            { 
                title: "Мейірімді бала", 
                sub: "Тәрбие", 
                story: `Қытай жұртында ескі заң бар, біреуді алдағандығы мойнына түскен кісінің қолын кесе-тұғын.
Бір төре осындай іспен күнәлі болып, жазаны беруге тұрғанда, күнәлі төренің жас қыз баласы «әкем үшін жауап беремін» деп, мәлім болды.
— Тақсыр патшам, — деді қыз, — мінекей, тақсыр, әкемнің қолы, —деп өзінің қолын көтерді. — Бұл қол да менің жазықты болған атамның қолы, бірақ мұнымен бала-шағаларын асырауға шамасы келмейді.
Бұйырыңыз, тақсыр, осы нашар қолын кесіп, жұмысқа жарап, бала-шағаларын асырайтын қолын атама қалдыруға.
Патша баланың мұнша атасына мейірімділігіне рақымы келіп, төренің күнәсін кешті дейді.`, 
                correct: "Патша баланың атасына мейірімділігіне рақымы келді", 
                wrong: "Қыз бала әкесінің орнына ақша төледі." 
            },
            { 
                title: "Бақша ағаштары", 
                sub: "Тәрбие", 
                story: `Жаздың әдемі бір күнінде, таңертең бір төре өзінің баласымен бақшаға барып жүрді.
- Мынау ағаш неліктен тіп-тік, ана біреуі неге қисық біткен? - деп сұрады баласы.
- Оның себебі, балам, анау ағашты бағу-қағумен өсірген, қисық бұтақтары болса кесіп түзеген. Мынау ағаш бағусыз, өз шығу қалыбымен өскен,- деді атасы.
- Бағу-қағуда көп мағына барында шек жоқ, шырағым; мұнан сен де өзіңе әбірет алсаң болады;
Сен жас ағашсың саған да күтім керек; мен сенің қате істеріңді түзеп, пайдалы іске үйретсем, сен менің айтқанымды ұғып, орнына келтірсең, жаксы түзік кісі болып өсерсің.`, 
                correct: "Бағу-қағуда көп мағына барында шек жоқ", 
                wrong: "Ағашқа ешқандай тәрбие мен бағудың қажеті жоқ." 
            },
            { 
                title: "Асыл шөп", 
                sub: "Тәрбие", 
                story: `Злиха мен Бәтима төбесіне бір-бір жәшік жеміс көтеріп қалаға келе жатыпты-мыс.
Злиха ахылап-ухілеп шаршадым деп, Бәтима күліп, әзілдесіп келе жатады. Сонда Злиха айтты:
— Сен неге мәз болып қуанып келесің, төбеңдегі жәшіктің ауырлығыда менің басымдағыдан кем емес?
— Мен жәшігімнің ішіне ауырды жеңілдететін бір шөп салдым деді Бәтима.
— Ай, ондай болса шөбіңнің атын айтшы, мен де ауырымды жеңілдетейін деді Злиха.
— Ол шөп сенің қолыңа түспей ме деп қорқамын, аты: сабыр деген екен.`, 
                correct: "Ауырды жеңілдететін шөптің аты: сабыр деген екен", 
                wrong: "Жәшіктің ауырлығын тек басқа адамға беру арқылы жеңілдетуге болады." 
            }
       ];

    const grid = document.getElementById('button-grid');
    const book = document.getElementById('main-book');
    const quizOptions = document.getElementById('quiz-options');

    // CREATE MENU CARDS
    chapterData.forEach((ch, i) => {
        const isOrange = i < 6;
        const imgNum = i + 1; // This creates 1, 2, 3... 12
        const card = document.createElement('div');
        card.className = `chapter-card ${isOrange ? 'orange-frame' : 'blue-frame'}`;
        card.innerHTML = `
            <div class="subsection-label ${isOrange ? 'orange-label' : 'blue-label'}">${ch.sub}</div>
            <div class="img-thumb" style="background-image: url('${imgNum}.jpg')"></div>
            <div style="margin-top:10px; font-weight:bold; color:${isOrange?'#d35400':'#2980b9'}">${ch.title}</div>
        `;
        card.onclick = () => openChapter(i);
        grid.appendChild(card);
    });

    function openChapter(i) {
        const ch = chapterData[i];
        const isOrange = i < 6;
        const imgNum = i + 1;
        book.className = `book ${isOrange ? 'theme-orange' : 'theme-blue'}`;
        
        document.getElementById('feedback').innerText = "";
        quizOptions.innerHTML = "";
        
        // Update the Quiz Image
        document.getElementById('main-quiz-img').style.backgroundImage = `url('${imgNum}.jpg')`;
        
        // Update the Reading Image
        document.getElementById('reading-img-thumb').style.backgroundImage = `url('${imgNum}.jpg')`;

        let pool = [
            { text: ch.correct, isTrue: true },
            { text: ch.wrong, isTrue: false }
        ].sort(() => Math.random() - 0.5);

        pool.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.innerText = opt.text;
            btn.onclick = () => {
                const f = document.getElementById('feedback');
                f.innerText = opt.isTrue ? "✓ Дұрыс! Нағыз нақыл сөз." : "✗ Қате! Бұл жалған сөз.";
                f.style.color = opt.isTrue ? "#2d5a27" : "#a03030";
            };
            quizOptions.appendChild(btn);
        });

        document.getElementById('reading-chapter-title').innerText = ch.title;
        document.getElementById('reading-subtitle').innerText = `${isOrange?'Еңбек бөлімі':'Тәрбие бөлімі'}: ${ch.sub}`;
        document.getElementById('reading-body').innerText = ch.story;
        
        switchScreen('quiz-screen');
    }

    function switchScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
    }

    function showMenu() { book.className = 'book'; switchScreen('menu-screen'); }
    function showQuiz() { switchScreen('quiz-screen'); }
    function showReading() { switchScreen('reading-screen'); }
</script>
</body>
</html>